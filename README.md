# Network Test Tool

Утилита командной строки для массовой проверки доступности IP-адресов из заданных CIDR-подсетей с определением провайдера (ASN) через whois. Инструмент автоматически пингует несколько IP-адресов из подсети, чтобы найти хотя бы один активный, и собирает результаты в удобную таблицу с возможностью сохранения в CSV.

## Требования
- Linux (Debian, Ubuntu, CentOS, RHEL)
- `python3`
- `ping`
- `whois`

*(Скрипт попытается автоматически установить недостающие системные зависимости при запуске из-под root)*

## Установка одним скриптом

Вы можете установить или обновить скрипт глобально в систему выполнив следующую команду:
```bash
curl -sSL https://raw.githubusercontent.com/YOUR_GITHUB_USERNAME/YOUR_REPO_NAME/main/install.sh | sudo bash
```
*(Не забудьте подставить своё имя пользователя и название репозитория вместо `YOUR_GITHUB_USERNAME`/`YOUR_REPO_NAME`)*

## Использование
Скрипт ожидает найти файл со списком подсетей `cidr.txt` в текущей директории.
Формат файла `cidr.txt` (один CIDR на строку):
```txt
89.253.200.0/21
91.219.224.0/22
192.168.0.0/16
```

Перейдите в директорию с файлом `cidr.txt` и запустите утилиту:
```bash
network_test
```
Инструмент задаст вопросы о количестве IP-адресов для пинга на каждую подсеть, установит тайм-аут и спросит про сохранение в `results.csv`.

## Особенности
- **Автономность**: Логика написана на Python с использованием стандартных библиотек (`ipaddress`, `csv`, `subprocess`). Не нужны никакие `pip install`.
- **Эффективность**: Не создает полный список IP-адресов подсети в оперативной памяти — адреса выбираются математически (первый, последний, и несколько случайных из диапазона).
- **Кэширование**: Результаты ASN-запросов к `whois` кэшируются для ускорения обработки близких или совпадающих подсетей.
- **Цветовая индикация**: Использует ANSI-цвета: живые подсети отмечаются \033[92mзеленым\033[0m, а мертвые \033[91mкрасным\033[0m.
